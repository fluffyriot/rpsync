{{ template "header.html" . }}

<div style="max-width: 500px; margin: 4rem auto;">
  <div class="card">
    <div class="text-center mb-4">
      <h1>Create Account</h1>
      <p class="text-muted">Welcome to RPSync. Create your account to get started.</p>
    </div>

    {{if .Message1}}
    <div class="card"
      style="background: var(--color-success-bg); border-color: var(--color-success); color: var(--color-success-fg);">
      <p>{{.Message1}}</p>
    </div>
    {{end}}

    {{if .Message2}}
    <div class="card"
      style="background: var(--color-warning-bg); border-color: var(--color-warning); color: var(--color-warning-fg);">
      <p>{{.Message2}}</p>
    </div>
    <form method="GET" action="/status" class="mt-4">
      <button class="btn btn-primary" type="submit" style="width: 100%">Go To Dashboard</button>
    </form>
    {{else}}
    <form method="POST" action="/register">
      <div class="form-group">
        <label class="form-label" for="username">Username</label>
        <input id="username" name="username" class="form-input" placeholder="Choose a username" required
          autocapitalize="off">
      </div>

      <div class="flex flex-col gap-2">
        <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 1rem;">
          Create Account & Continue
        </button>
        <a href="/login" class="btn btn-secondary" style="width: 100%; text-align: center;">Back to Login</a>
      </div>
    </form>
    {{end}}
  </div>
</div>

{{ template "footer.html" . }}