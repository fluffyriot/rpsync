</main>

<footer class="container text-center" style="color: var(--color-text-muted); font-size: 0.85rem;">
    <p>&copy; 2026 RPSync <a href="https://github.com/fluffyriot/rpsync/releases"
            target="_blank">v.{{.app_version}}</a><br>
        Licensed under the GNU AGPL v3<br>
        Source code: <a href="https://github.com/fluffyriot/rpsync"
            target="_blank">https://github.com/fluffyriot/rpsync</a>
    </p>
</footer>

<div id="release-notes-overlay" class="drawer-overlay" onclick="closeReleaseNotes()"></div>
<div id="release-notes-sidebar" class="drawer-sidebar">
    <div class="drawer-header">
        <h3>What's New in <span id="release-notes-version"></span></h3>
        <button onclick="closeReleaseNotes()" class="btn btn-ghost btn-icon"><i data-lucide="x"></i></button>
    </div>
    <div class="drawer-body" id="release-notes-body">
        <div class="text-center">
            <i data-lucide="loader-2" class="spin"></i> Loading release notes...
        </div>
    </div>
    <div class="drawer-footer">
        <a id="release-notes-link" href="#" target="_blank" class="btn btn-ghost">View on GitHub</a>
        <button onclick="closeReleaseNotes()" class="btn btn-primary">Got it!</button>
    </div>
</div>

<script>
    window.rpsyncAppVersion = "{{.app_version}}";
    window.rpsyncUserLastSeenVersion = "{{.user_last_seen_version}}";

    document.addEventListener('DOMContentLoaded', () => {
        if (window.rpsyncAppVersion && window.rpsyncAppVersion !== "unknown" &&
            window.rpsyncUserLastSeenVersion && window.rpsyncAppVersion !== window.rpsyncUserLastSeenVersion) {
            showReleaseNotes(window.rpsyncAppVersion, window.rpsyncUserLastSeenVersion);
        }
    });
</script>

<style>
    .spin {
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        100% {
            transform: rotate(360deg);
        }
    }

    .text-main {
        color: var(--color-text-main);
        font-weight: bold;
    }

    .text-muted {
        color: var(--color-text-muted);
    }
</style>
</body>

</html>